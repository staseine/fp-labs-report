</html>
<html>
    
    <head>
        <link rel="stylesheet" href="../../wow-animation/animate.css">
        <script src="../../wow-animation/animate.min.css"></script>
        <script src="../../wow-animation/wow.min.js"></script>
        <script src="../../wow-animation/wow.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" />
        <meta http-equiv="Content-Type" content="text/html" ; charset="utf-8">
        
        <body>
            <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                <h5>Мета</h5>
                <br>
            </div>
            <div id="code" class="wow animated bounceInRight" data-wow-delay="0.1s">
            <p>Опанувати теоретичні основи обробки рядків та текстових файлів мовами функціонального програмування та розробити програми їх реалізації.</p>
            </div>
            <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                <h5>Умова завдання</h5>
            </div>
            <div id="main" class="wow animated bounceInRight" data-wow-delay="0.1s">
                <h6>Завдання</h6>
            </div>
            <div id="code" class="wow animated bounceInRight" data-wow-delay="0.1s">
            <p>Записати в текстовий файл n рядків тексту, що задаються програмою на функціональній мові програмування. Зчитати рядки із створеного програмою файлу, вивести їх на екран. Закодувати кожне друге слово в парному рядку за шифром Цезаря. У цьому шифрі кожна буква тексту замінюється на іншу, яка знаходиться на фіксовану кількість букв далі в алфавіті. Наприклад, якщо pi літера слова, k – ключ слова (зсув літер алфавіту на k позицій), то закодована літера визначається як ci = pi+k. Записати в новий текстовий файл зашифрований текст.</p>
            </div>
            
            <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                <h5>Обгрунтування вибору середовища та мови програмування</h5>
            </div>
            <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                <h6>Мова функціонального програмування: Haskell</h6>
            
            <p>

                - Це одна з самих популярних функціональних мов програмування.<br>
                - Зручна та обширна документація.<br>
                - Звичний синтаксис.<br></p>
</div>
            <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                <h6>Середовище програмування: Visual Studio Code</h6>
                <p>

                    - Легкий та зручний редактор коду, який можна використовувати майже для будь-якої мови програмування.<br>
                    - Має всі необхідні функції для програмування і працює нsабагато швидше в порівнянні з іншими IDE.<br></p>
                     </div>

                     <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                        <h5>Код програми</h5>
                        <br>
                    </div>
                    <div id="code" class="wow animated bounceInRight" data-wow-delay="0.1s">
                        <div class="button-item">
                            <a href="exec/lab7.hs" class="btn-1">Завантажити код</a>
                        </div>
                        <h6>Задача: </h6>
                        <code>
                            <pre>
                                import System.IO
                                import Data.Char (toLower)
                                import Data.List ( elemIndex )
                                import Data.Maybe
                                import Data.Text
                                import Distribution.Simple.Program.HcPkg (list)
                                
                                indexOf :: Eq a => a -> [a] -> Int
                                indexOf el list
                                  | isNothing (elemIndex el list) = -1
                                  | otherwise = fromMaybe (-1) $ elemIndex el list
                                
                                getIndexWithOffset :: Foldable t => Int -> t a -> Int
                                getIndexWithOffset idx list
                                  | idx < Prelude.length list = idx
                                  | otherwise =  idx - Prelude.length list
                                
                                caesar :: [Char] -> Int -> [Char]
                                caesar str k = [
                                    if indexOf x alphabet == -1
                                      then x
                                      else alphabet !! getIndexWithOffset (indexOf x alphabet + k) alphabet
                                  | x <- str]
                                  where alphabet = "abcdefghijklmnopqrstuvwxyz"
                                
                                encrypt :: String -> String
                                encrypt contents = Prelude.unlines [Prelude.unwords [if even (lIdx + 1) && even (wIdx + 1) then caesar word 4 else word | (wIdx, word) <- line] | (lIdx, line) <- cLines]
                                  where cLines = Prelude.zip [0..] [Prelude.zip [0..] (Prelude.words x) | x <- Prelude.lines contents]
                                
                                make = do
                                  writeFile "test.txt" "Lorem Ipsum is simply dummy text of the printing and typesetting industry. \nLorem Ipsum has been the industry's standard dummy text ever since the 1500s, \nwhen an unknown printer took a galley of type and scrambled it to make a type specimen book.\nIt has survived not only five centuries, but also the leap into electronic"
                                
                                  contents <- readFile "test.txt"
                                  putStr contents
                                
                                  writeFile "testencrypted.txt" (encrypt (Prelude.map Data.Char.toLower contents))
                                  
                                  putStr "\n\nEncrypted file:\n"
                                  contents <- readFile "testencrypted.txt"
                                  putStr contents                            
                        </pre>
                        </code>
                    
                    </div>
                    <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                        <h5>Результати виконання</h5>
                        <div id="main" class="wow animated bounceInRight" data-wow-delay="0.1s">
                            <h6>Задача:</h6>
                        </div>
                        <div id="code" class="wow animated bounceInRight" data-wow-delay="0.1s">
                            <img class="codeImg" src="scr/lab_7_res.png">
                        </div>
            <div id="main" class="wow animated bounceInLeft" data-wow-delay="0.1s">
                <h5>Висновок</h5>
                <br>
                <p>У ході виконання цієї лабораторної роботи було опановано теоретичні основи обробки рядків та текстових файлів мовою функціонального програмування haskell та розроблено програму їх реалізації. Зокрема, було розроблено програму, яка записує n рядків тексту, у файл, зчитує рядки із створеного програмою файлу, виводить їх на екран, а потім закодувує кожне друге слово в парному рядку за шифром Цезаря.</p>
             </div>
        </body>
    
</html>
